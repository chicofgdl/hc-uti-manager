import { Paciente } from '../../types';

// Dados mockados de pacientes baseados no CSV
const PACIENTES_MOCK: Paciente[] = [
  {
    codigo: 77001,
    prontuario: '77001',
    nome: 'Carla Dias',
    dt_nascimento: '1985-03-10',
    idade: 39,
    nome_mae: 'Sandra Dias',
    nome_pai: 'Roberto Dias',
    sexo: 'F',
    cor: 'Branca',
    especialidade_atual: 'Clinica Medica',
    diagnostico_principal: 'Insuficiencia cardiaca',
    data_admissao: '2025-11-25',
    data_alta_prevista: '2025-12-02',
    origem_atendimento: 'Ambulatorio',
  },
  {
    codigo: 77002,
    prontuario: '77002',
    nome: 'Bruno Lima',
    dt_nascimento: '1991-07-22',
    idade: 33,
    nome_mae: 'Fatima Lima',
    nome_pai: 'Jorge Lima',
    sexo: 'M',
    cor: 'Parda',
    especialidade_atual: 'Ortopedia',
    diagnostico_principal: 'Fratura de femur',
    data_admissao: '2025-11-25',
    data_alta_prevista: '2025-11-28',
    origem_atendimento: 'PS',
  },
  {
    codigo: 77003,
    prontuario: '77003',
    nome: 'Fernanda Costa',
    dt_nascimento: '2001-11-01',
    idade: 23,
    nome_mae: 'Vera Costa',
    nome_pai: 'Marcos Costa',
    sexo: 'F',
    cor: 'Branca',
    especialidade_atual: 'Dermatologia',
    diagnostico_principal: 'Biopsia de pele',
    data_admissao: '2025-11-25',
    data_alta_prevista: '2025-11-25',
    origem_atendimento: 'Ambulatorio',
  },
  {
    codigo: 77004,
    prontuario: '77004',
    nome: 'Lucas Almeida',
    dt_nascimento: '1988-02-18',
    idade: 36,
    nome_mae: 'Regina Almeida',
    nome_pai: 'Antonio Almeida',
    sexo: 'M',
    cor: 'Preta',
    especialidade_atual: 'Cardiologia',
    diagnostico_principal: 'Arritmia supraventricular',
    data_admissao: '2025-11-26',
    data_alta_prevista: '2025-12-03',
    origem_atendimento: 'PS',
  },
  {
    codigo: 77005,
    prontuario: '77005',
    nome: 'Mariana Souza',
    dt_nascimento: '1975-05-14',
    idade: 49,
    nome_mae: 'Helena Souza',
    nome_pai: 'Carlos Souza',
    sexo: 'F',
    cor: 'Parda',
    especialidade_atual: 'Oncologia',
    diagnostico_principal: 'Linfoma nao Hodgkin',
    data_admissao: '2025-11-20',
    data_alta_prevista: '2025-12-10',
    origem_atendimento: 'Transferido',
  },
  {
    codigo: 77006,
    prontuario: '77006',
    nome: 'Diego Ferreira',
    dt_nascimento: '1999-09-05',
    idade: 25,
    nome_mae: 'Lucia Ferreira',
    nome_pai: 'Paulo Ferreira',
    sexo: 'M',
    cor: 'Branca',
    especialidade_atual: 'Neurologia',
    diagnostico_principal: 'AVC isquemico',
    data_admissao: '2025-11-24',
    data_alta_prevista: '2025-12-05',
    origem_atendimento: 'PS',
  },
  {
    codigo: 77007,
    prontuario: '77007',
    nome: 'Aline Martins',
    dt_nascimento: '1983-12-30',
    idade: 40,
    nome_mae: 'Rita Martins',
    nome_pai: 'Jose Martins',
    sexo: 'F',
    cor: 'Branca',
    especialidade_atual: 'Obstetricia',
    diagnostico_principal: 'Gestacao alto risco',
    data_admissao: '2025-11-23',
    data_alta_prevista: '2025-12-01',
    origem_atendimento: 'Centro Obstetrico',
  },
  {
    codigo: 77008,
    prontuario: '77008',
    nome: 'Rafael Nogueira',
    dt_nascimento: '1970-04-02',
    idade: 54,
    nome_mae: 'Claudia Nogueira',
    nome_pai: 'Luiz Nogueira',
    sexo: 'M',
    cor: 'Branca',
    especialidade_atual: 'Clinica Medica',
    diagnostico_principal: 'Sepse de foco pulmonar',
    data_admissao: '2025-11-21',
    data_alta_prevista: '2025-12-06',
    origem_atendimento: 'Transferido',
  },
  {
    codigo: 77009,
    prontuario: '77009',
    nome: 'Joana Pereira',
    dt_nascimento: '1995-08-16',
    idade: 29,
    nome_mae: 'Angela Pereira',
    nome_pai: 'Nilson Pereira',
    sexo: 'F',
    cor: 'Parda',
    especialidade_atual: 'Infectologia',
    diagnostico_principal: 'Pneumonia comunitaria',
    data_admissao: '2025-11-22',
    data_alta_prevista: '2025-11-29',
    origem_atendimento: 'PS',
  },
  {
    codigo: 77010,
    prontuario: '77010',
    nome: 'Tiago Barbosa',
    dt_nascimento: '2003-01-11',
    idade: 21,
    nome_mae: 'Marisa Barbosa',
    nome_pai: 'Pedro Barbosa',
    sexo: 'M',
    cor: 'Preta',
    especialidade_atual: 'Trauma',
    diagnostico_principal: 'Cranioencefalico moderado',
    data_admissao: '2025-11-25',
    data_alta_prevista: '2025-12-04',
    origem_atendimento: 'PS',
  },
  {
    codigo: 77011,
    prontuario: '77011',
    nome: 'Sofia Ribeiro',
    dt_nascimento: '1968-06-07',
    idade: 56,
    nome_mae: 'Gloria Ribeiro',
    nome_pai: 'Paulo Ribeiro',
    sexo: 'F',
    cor: 'Branca',
    especialidade_atual: 'Reumatologia',
    diagnostico_principal: 'Lupus em atividade',
    data_admissao: '2025-11-18',
    data_alta_prevista: '2025-12-03',
    origem_atendimento: 'Ambulatorio',
  },
  {
    codigo: 77012,
    prontuario: '77012',
    nome: 'Gustavo Araujo',
    dt_nascimento: '1987-10-19',
    idade: 37,
    nome_mae: 'Patricia Araujo',
    nome_pai: 'Celso Araujo',
    sexo: 'M',
    cor: 'Parda',
    especialidade_atual: 'Nefrologia',
    diagnostico_principal: 'Insuficiencia renal aguda',
    data_admissao: '2025-11-19',
    data_alta_prevista: '2025-12-07',
    origem_atendimento: 'Transferido',
  },
  {
    codigo: 77013,
    prontuario: '77013',
    nome: 'Patricia Rocha',
    dt_nascimento: '1993-02-25',
    idade: 31,
    nome_mae: 'Sonia Rocha',
    nome_pai: 'Ademar Rocha',
    sexo: 'F',
    cor: 'Branca',
    especialidade_atual: 'Gastroenterologia',
    diagnostico_principal: 'Hepatite autoimune',
    data_admissao: '2025-11-24',
    data_alta_prevista: '2025-12-02',
    origem_atendimento: 'Ambulatorio',
  },
  {
    codigo: 77014,
    prontuario: '77014',
    nome: 'Henrique Tavares',
    dt_nascimento: '1980-09-29',
    idade: 44,
    nome_mae: 'Juliana Tavares',
    nome_pai: 'Renato Tavares',
    sexo: 'M',
    cor: 'Branca',
    especialidade_atual: 'Pneumologia',
    diagnostico_principal: 'Asma grave descompensada',
    data_admissao: '2025-11-26',
    data_alta_prevista: '2025-12-05',
    origem_atendimento: 'PS',
  },
  {
    codigo: 77015,
    prontuario: '77015',
    nome: 'Natalia Cardoso',
    dt_nascimento: '1978-03-03',
    idade: 46,
    nome_mae: 'Elza Cardoso',
    nome_pai: 'Mario Cardoso',
    sexo: 'F',
    cor: 'Parda',
    especialidade_atual: 'Endocrinologia',
    diagnostico_principal: 'Cetoacidose diabetica',
    data_admissao: '2025-11-25',
    data_alta_prevista: '2025-12-02',
    origem_atendimento: 'PS',
  },
  {
    codigo: 77016,
    prontuario: '77016',
    nome: 'Daniel Figueira',
    dt_nascimento: '1997-07-13',
    idade: 27,
    nome_mae: 'Ana Figueira',
    nome_pai: 'Roberto Figueira',
    sexo: 'M',
    cor: 'Branca',
    especialidade_atual: 'Hematologia',
    diagnostico_principal: 'Leucemia mieloide aguda',
    data_admissao: '2025-11-15',
    data_alta_prevista: '2025-12-12',
    origem_atendimento: 'Transferido',
  },
  {
    codigo: 77017,
    prontuario: '77017',
    nome: 'Priscila Lopes',
    dt_nascimento: '2000-05-21',
    idade: 24,
    nome_mae: 'Celia Lopes',
    nome_pai: 'Otavio Lopes',
    sexo: 'F',
    cor: 'Preta',
    especialidade_atual: 'Psiquiatria',
    diagnostico_principal: 'Transtorno bipolar agudo',
    data_admissao: '2025-11-23',
    data_alta_prevista: '2025-11-30',
    origem_atendimento: 'PS',
  },
  {
    codigo: 77018,
    prontuario: '77018',
    nome: 'Anderson Melo',
    dt_nascimento: '1994-12-02',
    idade: 30,
    nome_mae: 'Vivian Melo',
    nome_pai: 'Claudio Melo',
    sexo: 'M',
    cor: 'Branca',
    especialidade_atual: 'Cirurgia Geral',
    diagnostico_principal: 'Abdome agudo inflamatorio',
    data_admissao: '2025-11-26',
    data_alta_prevista: '2025-12-03',
    origem_atendimento: 'Cirurgico',
  },
  {
    codigo: 77019,
    prontuario: '77019',
    nome: 'Luana Teixeira',
    dt_nascimento: '1986-11-09',
    idade: 38,
    nome_mae: 'Marina Teixeira',
    nome_pai: 'Silvio Teixeira',
    sexo: 'F',
    cor: 'Branca',
    especialidade_atual: 'Neurologia',
    diagnostico_principal: 'Convulsao refrataria',
    data_admissao: '2025-11-21',
    data_alta_prevista: '2025-11-30',
    origem_atendimento: 'PS',
  },
];

/**
 * Simula um delay de rede para tornar o mock mais realista
 */
const delay = (ms: number = 300) => new Promise(resolve => setTimeout(resolve, ms));

/**
 * Retorna todos os pacientes
 */
export const listarPacientes = async (): Promise<Paciente[]> => {
  await delay();
  return [...PACIENTES_MOCK];
};

/**
 * Busca um paciente por código
 */
export const obterPacientePorCodigo = async (codigo: number): Promise<Paciente | null> => {
  await delay();
  const paciente = PACIENTES_MOCK.find(p => p.codigo === codigo);
  return paciente || null;
};

/**
 * Busca um paciente por prontuário
 */
export const obterPacientePorProntuario = async (prontuario: string): Promise<Paciente | null> => {
  await delay();
  const paciente = PACIENTES_MOCK.find(p => p.prontuario === prontuario);
  return paciente || null;
};

/**
 * Busca pacientes por nome (busca parcial)
 */
export const buscarPacientesPorNome = async (nome: string): Promise<Paciente[]> => {
  await delay();
  const nomeNormalizado = nome.toLowerCase();
  return PACIENTES_MOCK.filter(p => 
    p.nome.toLowerCase().includes(nomeNormalizado)
  );
};
